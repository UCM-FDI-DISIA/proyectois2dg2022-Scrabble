@startuml

header Cargar/Guardar: initGame() (Sprint 3)

participant Main

activate Main

Main -> Scanner: c() Scanner

activate Scanner

Scanner --> Main: scanner

deactivate Scanner

participant Controller

Main -> GameLoader : initGame(scanner)

activate GameLoader

GameLoader -> TileBuilder : c() TileBuilder

activate TileBuilder

TileBuilder --> GameLoader: tileBuilder

deactivate TileBuilder

GameLoader ->BoxBuilder: c() BoxBuilder(tileBuilder)

activate BoxBuilder

BoxBuilder --> GameLoader: boxBuilder

deactivate BoxBuilder

GameLoader -> BoardBuilder: c() BoardBuilder(boxBuilder)

activate BoardBuilder

BoardBuilder --> GameLoader: boardBuilder

deactivate BoardBuilder

GameLoader -> GameTilesBuilder: c() GameTilesBuilder(tileBuilder)

activate GameTilesBuilder

GameTilesBuilder --> GameLoader: gameTilesBuilder

deactivate GameTilesBuilder

GameLoader -> GamePlayerBuilder: c() PlayerBuilder(tileBuilder)

activate GamePlayerBuilder

GamePlayerBuilder --> GameLoader: playerBuilder

deactivate GamePlayerBuilder

GameLoader -> GamePlayersBuilder: c() GamePlayersBuilder(playerBuilder)

activate GamePlayersBuilder

GamePlayersBuilder --> GameLoader: gamePlayersBuilder

deactivate GamePlayersBuilder

GameLoader -> Scanner: o() nextInt

activate Scanner

Scanner --> GameLoader: option

deactivate Scanner

alt option == 1

GameLoader --> GameLoader: o() reset

end

alt option == 2

GameLoader -> Scanner: o() nextLine

activate Scanner

return file

deactivate Scanner

GameLoader -> GameLoader: o() loadGame(file)

activate GameLoader

GameLoader --> Main: game

deactivate GameLoader

end

deactivate GameLoader

Main -> Controller: c() Controller (game)

activate Controller

return controller

deactivate Controller

@enduml