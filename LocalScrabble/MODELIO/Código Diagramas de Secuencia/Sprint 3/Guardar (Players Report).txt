@startuml

header Historia Cargar/Guardar: Players report (Sprint 3)

participant JSONObject as obj

participant JSONArray as array

collections list as list

GameSaver -> GamePlayers: o() report

activate GameSaver

activate GamePlayers

GamePlayers -> obj: c() JSONObject

activate obj

return jo

deactivate obj

GamePlayers -> array: c() JSONArray

activate array

return players

deactivate array

GamePlayers -> list: o() size

activate list

return numPlayers

deactivate list

loop i < numPlayers

GamePlayers -> list: o() size activate list

return numPlayers

deactivate list

GamePlayers -> Player: o() report

activate Player

Player -> obj: c() JSONObject

activate obj

return jo

deactivate obj

Player -> obj: o() put("name", name)

activate obj

deactivate obj

Player -> obj: o() put("total_points", totalPoints)

activate obj

deactivate obj

Player -> array: c() JSONArray

activate array

return tiles

deactivate array

GamePlayers -> list: o() size

activate list

return numTiles

deactivate list

loop i < numTiles

GamePlayers -> list: o() size

activate list

return numTiles

deactivate list

Player -> Tile: o() report

activate Tile

Tile --> Player: joTiles

deactivate Tile

Player -> obj: o() put("tiles", joTiles)

activate obj

deactivate obj

end

Player --> GamePlayers: playerReport

deactivate Player

GamePlayers -> obj:o() put(playerReport)

activate obj

deactivate obj

end

GamePlayers -> obj : o() put("players", players)

activate obj

deactivate obj

GamePlayers --> GameSaver: jo

deactivate GamePlayers

deactivate GameSaver

@enduml